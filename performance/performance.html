<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Performance</title>
</head>
<body>
    
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpRF3O%2FbtrgcBwRZYf%2FwSQ4iMhasRiOUQiPoVEdk0%2Fimg.jpg" alt="">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpRF3O%2FbtrgcBwRZYf%2FwSQ4iMhasRiOUQiPoVEdk0%2Fimg.jpg" alt="">
    <img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FpRF3O%2FbtrgcBwRZYf%2FwSQ4iMhasRiOUQiPoVEdk0%2Fimg.jpg" alt="">
   
    <script>
        console.log(performance)
        console.log(performance.navigation)
        // TYPE_NAVIGATE: 0
        // TYPE_RELOAD: 1
        // TYPE_BACK_FORWARD: 2
        // TYPE_RESERVED: 255

        onLoad()

        // 페이지 로딩 시간 구하기
        function onLoad() {
            let now = new Date().getTime()
            let pageLoadTime = now - window.performance.timing.navigationStart
            console.log(`\n\n 1. User-perceived page loading time: ${pageLoadTime}`)
        }
       


        setTimeout( () => {
            performance2()
        }, 2000)
        function performance2() {
            const { loadEventEnd,  navigationStart, responseEnd, requestStart } = window.performance.timing
            // navigatinStart, loadEventEnd 속성을 사용하여 페이지 전체 로드 시간 구하기
            const pageLoadTime = loadEventEnd - navigationStart
            console.log(`\n\n2-1. pageLoadTime: ${pageLoadTime}ms`)
            console.log('   loadEventEnd: ', loadEventEnd)
            console.log('   navigationStart: ', navigationStart)
            
            // requestStart, responseEnd 속성을 사용하여 HTTP 요청에서 응답까지 걸린 시간 구하기
            const connectTime = responseEnd - requestStart
            console.log(`2-2. connectTime: ${connectTime}ms`)
            console.log('   responseEnd: ', responseEnd)
            console.log('   requestStart: ', requestStart)
        }

        
        
    </script>
</body>
</html>